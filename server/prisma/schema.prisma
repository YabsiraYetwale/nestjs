generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}
model User{
  id String @id @default(uuid())
  username String @unique
  email String @unique
  password String
  role     String?   @default("user") 
}

model Clients {
  id              String      @id @default(uuid())
  name            String
  billing_address String
  contact_person  String
  email           String
  phone           String
  invoices     Invoices[]  @relation("clientInvoices")
}

model Invoices {
  id              String      @id @default(uuid())
  name            String
  invoice_number  String @unique
  date            DateTime  @default(now())
  due_date        DateTime @default(now())
  total_amount    Int
  status          String?
  client_id       String   
    
  client          Clients     @relation("clientInvoices", fields: [client_id], references: [id],onDelete: Cascade)
  line_items      Line_Items[] @relation("invoiceLineItems")
}

model Line_Items {
  id              String      @id @default(uuid())
  description     String
  quantity        Int
  unit_price      Int
  tax_rate        Int
  invoice_id      String
  invoice         Invoices    @relation("invoiceLineItems", fields: [invoice_id], references: [id],onDelete:Cascade )
}

